{"version":3,"sources":["../../../src/addons/__tests__/TestUtils-test.js"],"names":[],"mappings":"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","file":"src/addons/__tests__/TestUtils-test.js","sourcesContent":["import * as TestUtils from '../TestUtils';\nimport sinon from 'sinon';\n\n\ndescribe('TestUtils', () => {\n  describe('#simulateAction', () => {\n    it('calls the stores handler', () => {\n      const store = mockStore();\n      const actionFunc = function() {};\n      actionFunc._id = 'actionFunc';\n\n      TestUtils.simulateAction(store, 'foo', 'foo body');\n      TestUtils.simulateAction(store, actionFunc, 'actionFunc body');\n\n      expect(store.handler.calledTwice).to.be.true;\n\n      expect(store.handler.getCall(0).args[0]).to.deep.equal({\n        actionId: 'foo',\n        body: 'foo body'\n      });\n\n      expect(store.handler.getCall(1).args[0]).to.deep.equal({\n        actionId: 'actionFunc',\n        body: 'actionFunc body'\n      });\n    });\n  });\n\n  describe('#simulateActionAsync', () => {\n    it('it handles async begin', () => {\n      const store = mockStore();\n\n      TestUtils.simulateActionAsync(store, 'foo', 'begin');\n\n      expect(store.handler.calledOnce).to.be.true;\n      expect(store.handler.firstCall.args[0]).to.deep.equal({\n        actionId: 'foo',\n        async: 'begin'\n      });\n    });\n\n    it('it handles async begin w/ action args', () => {\n      const store = mockStore();\n\n      TestUtils.simulateActionAsync(store, 'foo', 'begin', 'arg1', 'arg2');\n\n      expect(store.handler.calledOnce).to.be.true;\n      expect(store.handler.firstCall.args[0]).to.deep.equal({\n        actionId: 'foo',\n        async: 'begin',\n        actionArgs: ['arg1', 'arg2']\n      });\n    });\n\n    it('it handles async success', () => {\n      const store = mockStore();\n\n      TestUtils.simulateActionAsync(store, 'foo', 'success', { foo: 'bar' });\n\n      expect(store.handler.calledOnce).to.be.true;\n      expect(store.handler.firstCall.args[0]).to.deep.equal({\n        actionId: 'foo',\n        async: 'success',\n        body: {\n          foo: 'bar'\n        }\n      });\n    });\n\n    it('it handles async failure', () => {\n      const store = mockStore();\n\n      TestUtils.simulateActionAsync(store, 'foo', 'failure', 'error message');\n\n      expect(store.handler.calledOnce).to.be.true;\n      expect(store.handler.firstCall.args[0]).to.deep.equal({\n        actionId: 'foo',\n        async: 'failure',\n        error: 'error message'\n      });\n    });\n\n    it('it throws error with invalid asyncAction', () => {\n      const store = mockStore();\n      const simulate = () => TestUtils.simulateActionAsync(store, 'foo', 'fizbin');\n\n      expect(simulate).to.throw('asyncAction must be one of: begin, success or failure');\n    });\n  });\n});\n\nfunction mockStore() {\n  return {\n    handler: sinon.spy()\n  };\n}\n"]}